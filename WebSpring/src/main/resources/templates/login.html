<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Main CSS-->
<link rel="shortcut icon" th:href="@{/img/favicon.ico}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css">
  		<link rel="stylesheet" type="text/css" th:href="@{/css/main.css}"></link>
	<link rel="stylesheet" type="text/css" th:href="@{/css/login.css}"></link>

	 <link rel="stylesheet" type="text/css" th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}">
    <title>Login</title>
  </head>
  <body>
    <section class="material-half-bg">
      <div class="cover"></div>
    </section>
    <section class="login-content">
      <div class="logo">
        <h1>PlantSoft</h1>
      </div>
      <div th:if="${acao} == true">
		 <div class="alert  alert-danger  alert-dismissible" role="alert" >
		     <button type="button" class="close" data-dismiss="alert" ><span aria-hidden="true">&times;</span></button>
		   	 <span th:text="${mensagem}"></span>
		 </div>
	 </div>
     <form action="#" class="login-form" th:action="@{/login}" method="POST">
    <h1>Acessar Sistema</h1>
    <br>
    <div class="textb">
      <input type="text" required class="form-control" id="email" name="email" autofocus> 
      <div class="placeholder">Email</div>
    </div>

    <div class="textb">
      <input required class="form-control" type="password" id="password" name="password">
      <div class="placeholder">Password</div>
<!--       <div class="show-password fas fa-eye-slash"></div> -->
    </div>

    <div class="checkbox">
      <input type="checkbox" id="checkRememberMe" name="checkRememberMe">
      <div class="fas fa-check"></div>
      Me mantenha conectado
    </div>

    <button class="btn fas fa-arrow-right" disabled></button>
    <a href="#">Esqueci minha senha</a>
    <a href="#">Cadastrar</a>
  </form>

  <script>
    var fields = document.querySelectorAll(".textb input");
    var btn = document.querySelector(".btn");
    function check(){
      if(fields[0].value != "" && fields[1].value != "")
        btn.disabled = false;
      else
        btn.disabled = true;  
    }

    fields[0].addEventListener("keyup",check);
    fields[1].addEventListener("keyup",check);

    document.querySelector(".show-password").addEventListener("click",function(){
      if(this.classList[2] == "fa-eye-slash"){
        this.classList.remove("fa-eye-slash");
        this.classList.add("fa-eye");
        fields[1].type = "text";
      }else{
        this.classList.remove("fa-eye");
        this.classList.add("fa-eye-slash");
        fields[1].type = "password";
      }
    });
  </script>
    </section>
    <!-- Essential javascripts for application to work-->
    
    <script th:src="@{/js/jquery-3.2.1.min.js}"></script>
	<script th:src="@{/js/popper.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/main.js}"></script>
    <!-- The javascript plugin to display page loading on top-->
    <script src="js/plugins/pace.min.js"></script>
    <script type="text/javascript">
      // Login Page Flipbox control
      $('.login-content [data-toggle="flip"]').click(function() {
      	$('.login-box').toggleClass('flipped');
      	return false;
      });
    </script>
  </body>
</html>